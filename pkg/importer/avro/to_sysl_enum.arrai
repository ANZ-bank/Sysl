# Transform Avro enum to Sysl enum
let util = //{./avro_util};

let transformer = \enum

let annotations = ['namespace', 'default', 'doc'] >> util.getAnnotationS(enum, .);

$`!enum ${enum('name').s}${util.prettyAnnotations(annotations)}:
    ${enum('symbols').a >>> \i \item  $`${item.s}: ${i}`::\i}

${
let aliases = enum('aliases')? .a:[]; 
aliases >> $`
    !alias ${.s}: ${enum('name').s}`::\n
}`;
transformer
