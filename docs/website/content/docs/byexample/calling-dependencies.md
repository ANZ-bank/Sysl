+++
# AUTOGENERATED BY byexample/generate.go
title= "Calling-Dependencies"
draft= false
description= ""
layout= "byexample"
weight = 14
topic = "Code Generation"
PlaygroundURL = "http://anz-bank.github.io/sysl-playground/?input=&cmd="
ID = "calling-dependencies"
CodeWithoutComments = """"""

Segs = [[
  
      {CodeEmpty= true,CodeLeading= true,CodeRun= false,CodeRendered="""""",DocsRendered= """<p>Simple REST endpoint generation in go</p>
""",Image = ""},

      {CodeEmpty= true,CodeLeading= false,CodeRun= true,CodeRendered="""""",DocsRendered= """<p>This demonstrates how to develop a simple sysl app that calls an external dependency api; <a href="http://jsonplaceholder.typicode.com/todos/">http://jsonplaceholder.typicode.com/todos/</a> is used as an example</p>
""",Image = ""},


],
[
  
      {CodeEmpty= true,CodeLeading= true,CodeRun= false,CodeRendered="""""",DocsRendered= """<p>simple.sysl</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= true,CodeRendered="""<pre class="chroma">
<span class="nx">simple</span><span class="p">[</span><span class="kn">package</span><span class="p">=</span><span class="s">&#34;simple&#34;</span><span class="p">]:</span>
    <span class="err">@</span><span class="nx">basePath</span> <span class="p">=</span> <span class="s">&#34;simple&#34;</span></pre>""",DocsRendered= """<p>Most of this is the same as the &ldquo;Code-Generation&rdquo; tutorial</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
    <span class="p">!</span><span class="kd">type</span> <span class="nx">Stuff</span><span class="p">:</span>
        <span class="nx">Content</span> <span class="p">&lt;:</span> <span class="kt">string</span><span class="p">:</span>
            <span class="err">@</span><span class="nx">json_tag</span> <span class="p">=</span> <span class="s">&#34;Content&#34;</span>  </pre>""",DocsRendered= """<p>Wrap the types in sysl types</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
    <span class="o">/</span><span class="nx">foobar</span><span class="p">:</span>
        <span class="nx">GET</span><span class="p">:</span></pre>""",DocsRendered= """<p>Endpoint that calls a dependency</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
            <span class="nx">mydependency</span> <span class="o">&lt;-</span> <span class="nx">GET</span> <span class="o">/</span><span class="nx">todos</span><span class="o">/</span><span class="p">{</span><span class="nx">id</span><span class="p">}</span></pre>""",DocsRendered= """<p>Call a downstream service with the call syntaxHere we use {id} and this will show up in our request object</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
            <span class="k">return</span> <span class="nx">ok</span> <span class="p">&lt;:</span> <span class="nx">mydependency</span><span class="p">.</span><span class="nx">todosResponse</span></pre>""",DocsRendered= """<p>Always make sure that the return statement is in the form <code>return &lt;varname&gt; &lt;: &lt;type&gt;</code></p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
<span class="nx">mydependency</span><span class="p">[</span><span class="kn">package</span><span class="p">=</span><span class="s">&#34;mydependency&#34;</span><span class="p">]:</span>
    <span class="err">@</span><span class="nx">version</span> <span class="p">=</span> <span class="s">&#34;1.0&#34;</span>
    <span class="err">@</span><span class="nx">host</span> <span class="p">=</span> <span class="s">&#34;jsonplaceholder.typicode.com&#34;</span></pre>""",DocsRendered= """<p>As this is a third party dependency, this sysl should be imported via the &ldquo;sysl import&rdquo; command</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">    <span class="p">!</span><span class="kd">type</span> <span class="nx">todosResponse</span><span class="p">:</span>
        <span class="nx">userId</span> <span class="p">&lt;:</span> <span class="kt">int</span><span class="p">:</span>
            <span class="err">@</span><span class="nx">json_tag</span> <span class="p">=</span> <span class="s">&#34;userId&#34;</span>
        <span class="nx">id</span> <span class="p">&lt;:</span> <span class="kt">int</span><span class="p">:</span>
            <span class="err">@</span><span class="nx">json_tag</span> <span class="p">=</span> <span class="s">&#34;id&#34;</span>
        <span class="nx">title</span> <span class="p">&lt;:</span> <span class="kt">string</span><span class="p">:</span>
            <span class="err">@</span><span class="nx">json_tag</span> <span class="p">=</span> <span class="s">&#34;title&#34;</span>
        <span class="nx">completed</span> <span class="p">&lt;:</span> <span class="kt">bool</span><span class="p">:</span>
            <span class="err">@</span><span class="nx">json_tag</span> <span class="p">=</span> <span class="s">&#34;completed&#34;</span></pre>""",DocsRendered= """<p>Here we specify our endpoint that lives at jsonplaceholder.typicode.com/todos as an example of a external service</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">    <span class="o">/</span><span class="nx">todos</span><span class="o">/</span><span class="p">{</span><span class="nx">id</span><span class="p">&lt;:</span><span class="kt">int</span><span class="p">}:</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
        <span class="nx">GET</span><span class="p">[</span><span class="nx">mediatype</span><span class="p">=</span><span class="s">&#34;application/json&#34;</span><span class="p">,</span> <span class="err">~</span><span class="nx">body</span><span class="p">]:</span>
            <span class="k">return</span> <span class="nx">ok</span> <span class="p">&lt;:</span>  <span class="nx">todosResponse</span></pre>""",DocsRendered= """<p>Here we specify that the &ldquo;mediatype&rdquo; (Content-Type) is &ldquo;application/json&rdquo; (see <a href="https://github.com/anz-bank/sysl/issues/545)and">https://github.com/anz-bank/sysl/issues/545)and</a> that the response is a &ldquo;body&rdquo; type</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= false,CodeRun= false,CodeRendered="""<pre class="chroma">    </pre>""",DocsRendered= """""",Image = ""},


],
[
  
      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="err">#</span><span class="p">!</span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">bash</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= true,CodeRendered="""<pre class="chroma"><span class="nx">make</span> <span class="nx">input</span><span class="p">=</span><span class="nx">simple</span><span class="p">.</span><span class="nx">sysl</span> <span class="nx">app</span><span class="p">=</span><span class="nx">simple</span> <span class="nx">down</span><span class="p">=</span><span class="nx">mydependency</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="nx">ls</span> 
<span class="err">#</span><span class="nx">gen</span>             <span class="nx">implementation</span>  <span class="nx">makefile</span>        <span class="nx">readme</span><span class="p">.</span><span class="nx">md</span>
<span class="err">#</span><span class="nx">generate</span><span class="p">.</span><span class="nx">sh</span>     <span class="nx">main</span><span class="p">.</span><span class="k">go</span>         <span class="nx">ordering</span><span class="p">.</span><span class="nx">yaml</span>   <span class="nx">simple</span><span class="p">.</span><span class="nx">sysl</span></pre>""",DocsRendered= """<p>Now we can see that there is a &ldquo;gen&rdquo; folder with our generated sysl files</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= false,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="nx">cd</span> <span class="nx">gen</span> <span class="o">&amp;&amp;</span> <span class="nx">ls</span>
<span class="err">#</span><span class="nx">Simple</span>       <span class="nx">mydependency</span></pre>""",DocsRendered= """<p>We can see here that the code generated both &ldquo;mydependency&rdquo; and &ldquo;simple&rdquo;</p>
""",Image = ""},


],
[
  
      {CodeEmpty= true,CodeLeading= true,CodeRun= false,CodeRendered="""""",DocsRendered= """<p>implementation/methods.go</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= true,CodeRendered="""<pre class="chroma">
<span class="kn">package</span> <span class="nx">implementation</span></pre>""",DocsRendered= """<p>methods.go contains the actual HTTP functions that control the behaviour for the endpoints defined in the sysl file</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kn">import</span> <span class="p">(</span>
    <span class="s">&#34;context&#34;</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
    <span class="s">&#34;github.service.anz/sysl/syslbyexample/_examples/Calling-Dependencies/gen/mydependency&#34;</span>
    <span class="s">&#34;github.service.anz/sysl/syslbyexample/_examples/Calling-Dependencies/gen/simple&#34;</span>
<span class="p">)</span></pre>""",DocsRendered= """<p>These are the imports for our generated code</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
<span class="kd">func</span> <span class="nf">GetFoobarList</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">req</span> <span class="o">*</span><span class="nx">simple</span><span class="p">.</span><span class="nx">GetFoobarListRequest</span><span class="p">,</span> <span class="nx">client</span> <span class="nx">simple</span><span class="p">.</span><span class="nx">GetFoobarListClient</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">mydependency</span><span class="p">.</span><span class="nx">TodosResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span></pre>""",DocsRendered= """<p>GetFoobarList refers to the endpoint in our sysl file</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= false,CodeRun= false,CodeRendered="""<pre class="chroma">
    <span class="k">return</span> <span class="nx">client</span><span class="p">.</span><span class="nf">GetTodos</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">mydependency</span><span class="p">.</span><span class="nx">GetTodosRequest</span><span class="p">{</span><span class="nx">ID</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="p">}</span></pre>""",DocsRendered= """<p>Here we can make a request on the client object which was generated from the call to &ldquo;myDownstream&rdquo; in the sysl modelWe will get the id equal to one, which was generated from out {id} from /todos/{id&lt;:int}</p>
""",Image = ""},


],
[
  
      {CodeEmpty= true,CodeLeading= true,CodeRun= false,CodeRendered="""""",DocsRendered= """<p>implementation/gencallback.go</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= true,CodeRendered="""<pre class="chroma">
<span class="kn">package</span> <span class="nx">implementation</span></pre>""",DocsRendered= """<p>gencallback.go contains all the manual config code that is used to implement the generated sysl</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kn">import</span> <span class="p">(</span>
    <span class="s">&#34;context&#34;</span>
    <span class="s">&#34;flag&#34;</span>
    <span class="s">&#34;github.com/go-chi/chi&#34;</span>
    <span class="s">&#34;github.service.anz/sysl/server-lib/common&#34;</span>
    <span class="s">&#34;github.service.anz/sysl/server-lib/validator&#34;</span>
    <span class="s">&#34;github.service.anz/sysl/syslbyexample/_examples/Calling-Dependencies/gen/mydependency&#34;</span>
    <span class="s">&#34;github.service.anz/sysl/syslbyexample/_examples/Calling-Dependencies/gen/simple&#34;</span>
    <span class="s">&#34;log&#34;</span>
    <span class="s">&#34;net/http&#34;</span>
    <span class="s">&#34;time&#34;</span>
<span class="p">)</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kd">type</span> <span class="nx">Callback</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">UpstreamTimeout</span>   <span class="nx">time</span><span class="p">.</span><span class="nx">Duration</span>
    <span class="nx">DownstreamTimeout</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Duration</span>
    <span class="nx">RouterBasePath</span>    <span class="kt">string</span>
    <span class="nx">UpstreamConfig</span>    <span class="nx">validator</span><span class="p">.</span><span class="nx">Validator</span>
<span class="p">}</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kd">type</span> <span class="nx">Config</span> <span class="kd">struct</span><span class="p">{}</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="nx">Config</span><span class="p">)</span> <span class="nf">Validate</span><span class="p">()</span> <span class="kt">error</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">nil</span>
<span class="p">}</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">g</span> <span class="nx">Callback</span><span class="p">)</span> <span class="nf">AddMiddleware</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">r</span> <span class="nx">chi</span><span class="p">.</span><span class="nx">Router</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">g</span> <span class="nx">Callback</span><span class="p">)</span> <span class="nf">BasePath</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">&#34;/&#34;</span>
<span class="p">}</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">g</span> <span class="nx">Callback</span><span class="p">)</span> <span class="nf">Config</span><span class="p">()</span> <span class="nx">validator</span><span class="p">.</span><span class="nx">Validator</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">Config</span><span class="p">{}</span>
<span class="p">}</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">g</span> <span class="nx">Callback</span><span class="p">)</span> <span class="nf">HandleError</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">kind</span> <span class="nx">common</span><span class="p">.</span><span class="nx">Kind</span><span class="p">,</span> <span class="nx">message</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">cause</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">se</span> <span class="o">:=</span> <span class="nx">common</span><span class="p">.</span><span class="nf">CreateError</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">kind</span><span class="p">,</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">cause</span><span class="p">)</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">    <span class="nx">httpError</span> <span class="o">:=</span> <span class="nx">common</span><span class="p">.</span><span class="nf">HandleError</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">se</span><span class="p">)</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">    <span class="nx">httpError</span><span class="p">.</span><span class="nf">WriteError</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">w</span><span class="p">)</span>
<span class="p">}</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">g</span> <span class="nx">Callback</span><span class="p">)</span> <span class="nf">DownstreamTimeoutContext</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">context</span><span class="p">.</span><span class="nx">CancelFunc</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">context</span><span class="p">.</span><span class="nf">WithTimeout</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="mi">120</span><span class="o">*</span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
<span class="p">}</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kd">func</span> <span class="nf">LoadServices</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
    <span class="nx">router</span> <span class="o">:=</span> <span class="nx">chi</span><span class="p">.</span><span class="nf">NewRouter</span><span class="p">()</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= true,CodeLeading= true,CodeRun= false,CodeRendered="""""",DocsRendered= """<p>simpleServiceInterface is the struct which is composed of our functions we wrote in <code>methods.go</code></p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
    <span class="nx">simpleServiceInterface</span> <span class="o">:=</span> <span class="nx">simple</span><span class="p">.</span><span class="nx">ServiceInterface</span><span class="p">{</span>
        <span class="nx">GetFoobarList</span><span class="p">:</span> <span class="nx">GetFoobarList</span><span class="p">,</span>
    <span class="p">}</span></pre>""",DocsRendered= """<p>Struct embedding is used for the Service interface (yes, not interfaces)</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">    <span class="nx">genCallbacks</span> <span class="o">:=</span> <span class="nx">Callback</span><span class="p">{</span>
        <span class="nx">UpstreamTimeout</span><span class="p">:</span>   <span class="mi">120</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">,</span>
        <span class="nx">DownstreamTimeout</span><span class="p">:</span> <span class="mi">120</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">,</span>
        <span class="nx">RouterBasePath</span><span class="p">:</span>    <span class="s">&#34;/&#34;</span><span class="p">,</span>
        <span class="nx">UpstreamConfig</span><span class="p">:</span>    <span class="kc">nil</span><span class="p">,</span>
    <span class="p">}</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
    <span class="nx">serviceHandler</span> <span class="o">:=</span> <span class="nx">simple</span><span class="p">.</span><span class="nf">NewServiceHandler</span><span class="p">(</span><span class="nx">genCallbacks</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">simpleServiceInterface</span><span class="p">,</span> <span class="nx">mydependency</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">DefaultClient</span><span class="p">,</span> <span class="s">&#34;http://jsonplaceholder.typicode.com&#34;</span><span class="p">))</span></pre>""",DocsRendered= """<p>Service Handleruse the Example service that implements behaviour of the downstream serviceHere we specify that the base path (serviceURL) of the url we&rsquo;re hitting; <a href="https://jsonplaceholder.typicode.comSometimes">https://jsonplaceholder.typicode.comSometimes</a> this will have endpoints attached <a href="https://example.com/v2">https://example.com/v2</a> but should never have a trailing slashNote that this ServiceURL is http, as our service is served over http</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
    <span class="nx">serviceRouter</span> <span class="o">:=</span> <span class="nx">simple</span><span class="p">.</span><span class="nf">NewServiceRouter</span><span class="p">(</span><span class="nx">genCallbacks</span><span class="p">,</span> <span class="nx">serviceHandler</span><span class="p">)</span>
    <span class="nx">serviceRouter</span><span class="p">.</span><span class="nf">WireRoutes</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">router</span><span class="p">)</span></pre>""",DocsRendered= """<p>Service Router</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">    <span class="kd">var</span> <span class="nx">serverAddress</span> <span class="kt">string</span>
    <span class="nx">flag</span><span class="p">.</span><span class="nf">StringVar</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">serverAddress</span><span class="p">,</span> <span class="s">&#34;p&#34;</span><span class="p">,</span> <span class="s">&#34;:8080&#34;</span><span class="p">,</span> <span class="s">&#34;Specify server address&#34;</span><span class="p">)</span>
    <span class="nx">flag</span><span class="p">.</span><span class="nf">Parse</span><span class="p">()</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= false,CodeRun= false,CodeRendered="""<pre class="chroma">    <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Starting Server on &#34;</span> <span class="o">+</span> <span class="nx">serverAddress</span><span class="p">)</span>
    <span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nf">ListenAndServe</span><span class="p">(</span><span class="nx">serverAddress</span><span class="p">,</span> <span class="nx">router</span><span class="p">))</span>
    <span class="k">return</span> <span class="kc">nil</span>
<span class="p">}</span></pre>""",DocsRendered= """""",Image = ""},


],
[
  
      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma">
<span class="kn">package</span> <span class="nx">main</span></pre>""",DocsRendered= """<p>main.go</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= true,CodeRendered="""<pre class="chroma"><span class="kn">import</span> <span class="p">(</span>
    <span class="s">&#34;context&#34;</span>
    <span class="s">&#34;github.service.anz/sysl/syslbyexample/_examples/LiveDownstream/implementation&#34;</span>
<span class="p">)</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span></pre>""",DocsRendered= """<p>Now the LoadServices function is called to start our server</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= false,CodeRun= false,CodeRendered="""<pre class="chroma">    <span class="nx">implementation</span><span class="p">.</span><span class="nf">LoadServices</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">())</span>
<span class="p">}</span></pre>""",DocsRendered= """""",Image = ""},


],
[
  
      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="err">#</span><span class="p">!</span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">bash</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= true,CodeRendered="""<pre class="chroma">
<span class="nx">export</span> <span class="nx">GOPRIVATE</span><span class="p">=</span><span class="s">&#34;github.service.anz&#34;</span></pre>""",DocsRendered= """<p>Make sure that GOPRIVATE is set so go can get private repos</p>
""",Image = ""},

      {CodeEmpty= false,CodeLeading= true,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="k">go</span> <span class="nx">run</span> <span class="nx">main</span><span class="p">.</span><span class="k">go</span></pre>""",DocsRendered= """""",Image = ""},

      {CodeEmpty= false,CodeLeading= false,CodeRun= false,CodeRendered="""<pre class="chroma"><span class="nx">curl</span> <span class="nx">localhost</span><span class="p">:</span><span class="mi">8080</span><span class="o">/</span><span class="nx">foobar</span>
<span class="err">#</span><span class="p">{</span><span class="s">&#34;completed&#34;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="s">&#34;id&#34;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#34;title&#34;</span><span class="p">:</span><span class="s">&#34;delectus aut autem&#34;</span><span class="p">,</span><span class="s">&#34;userId&#34;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span></pre>""",DocsRendered= """""",Image = ""},


],

]
+++


